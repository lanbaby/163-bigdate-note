## 分布式系统

![分布式系统][1]

- 分布式系统是由一组通过网络进行通信、为了完成给你哦共同的任务而协调工作的计算机节点组成的系统。

- 分布式系统的出现是为了用廉价的、普通的机器完成单个计算机无法完成的计算，存储任务。其目的是利用更多的机器，处理更多的数据。

## 日志

- 分布式系统的运行过程中包含海量信息
    
    - 监控数据：服务器的性能（CPU、IO、响应时间等）

    - 运维数据：程序运行错误信息

    - 运营数据：网站流量（PV）、访问用户数（UV）、留存率

- 如何记录这些数据并分析？ 使用日志。

## 日志收集难点

- 日志种类繁多、高度分散

    - Nginx的访问日志、Tomcat的访问日志、应用程序的业务日志

    - 日志分布在多台主机上，日志分散在主机的多个文件中

- 海量日志记录

    - 随着系统功能越来越丰富，访问量的增长，日志文件越来越多，越来越大

- 日志收集需要高可靠

    - 不丢数据、不重复收集数据、低延迟。

## 日志收集系统-Flume

> Flume是Cloudera提供的一个高可用，高可靠的，分布式的海量日志采集、聚合和传输的系统，目前是Apache的一个子项目。

> Flume作为一个日志收集工具，非常轻量级，基于一个个Flume Agent，能够构建一个复杂而强大的日志手机系统。

> 运行在服务器上的进程将需要关注的日志文件采集到指定的存储服务，这个进程就叫Flume Agent。

[1]: https://github.com/jiaoqiyuan/163-bigdate-note/raw/master/%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96%E5%92%8C%E9%A2%84%E5%A4%84%E7%90%86%EF%BC%9AFlume/imgs/%E5%88%86%E5%B8%83%E5%BC%8F%E7%B3%BB%E7%BB%9F.png